
# 卡片管理界面 UI/UX 设计规范

本文档旨在详细阐述新版“卡片管理”界面的设计需求与交互逻辑，作为后续开发工作的核心参考。

## 核心设计理念

- **风格**: 遵循现代、简洁、高颜值的 **Cursor 风格**。注重清晰的布局、优雅的动效和舒适的视觉体验。
- **集成性**: 深度集成 Obsidian 的设计语言，全面使用 Obsidian 的 **CSS变量** (`--font-interface`, `--background-primary`, `--text-normal` 等)，以确保在不同主题下的外观统一性和原生感。
- **性能**: 功能设计必须以高性能为前提，确保在处理数万张卡片时依然保持流畅。

## 1. 主区域：高级表格视图

取代旧的表格，实现一个功能强大、可高度自定义的虚拟化表格。

### 1.1. 核心功能

- **虚拟加载 (Virtualization)**: 表格必须支持虚拟滚动，只渲染视图范围内的行，确保在加载大量卡片时（例如 10,000+）不会出现性能瓶颈和卡顿。
- **可自定义分页**:
    - 在表格底部提供一个下拉选项，允许用户自定义每页显示的卡片数量。
    - 预设选项可包括：`20`, `50`, `100`, `全部`。
- **列排序**:
    - 点击任意列的表头，可以对该列进行**升序**或**降序**排序。
    - 当前排序的列应有明显的视觉指示（例如，一个上/下箭头图标）。
- **字段管理器**:
    - 在表格的工具栏区域提供一个“字段”或类似的按钮。
    - 点击后，弹出一个下拉菜单或浮窗，其中包含所有可用字段的列表，并附有复选框。
    - 用户可以通过勾选/取消勾选，来**动态控制表格中显示或隐藏哪些列**。
- **卡片内容预览**:
    - 当用户的鼠标光标点击“正面”或“背面”列中的内容时，应**弹出一个悬浮的模态窗口（Modal）**。
    - 该窗口会清晰地展示该卡片完整的正面和背面内容，便于快速预览，而无需进入编辑模式。

### 1.2. 字段/列需求

表格需要支持以下字段的显示：

- **正面**: 卡片的正面内容。
- **背面**: 卡片的背面内容。
- **标签 (Tags)**:
    - 采用类似 **Notion 风格**的多彩标签。
    - 每个标签是一个带有柔和背景填充色的圆角胶囊形状。
    - 标签的颜色应可根据标签内容哈希生成，或预设几种颜色循环使用。
- **下次复习**: 卡片下一次需要复习的日期。
- **创建时间**: 卡片的创建日期。
- **修改时间**: 卡片最后一次被修改的日期。

## 2. 侧边栏：筛选与分类

在主表格视图的左侧，实现一个可折叠的筛选侧边栏。

### 2.1. 核心功能

- **可折叠**:
    - 侧边栏**默认状态为折叠隐藏**，不占用主界面的任何空间。
    - 在主界面的工具栏中提供一个明显的图标按钮（例如，漏斗图标或侧边栏图标），用于展开和收起侧边栏。
- **筛选联动**:
    - 在侧边栏中点击任何筛选条件，主表格视图的内容应**立即**根据所选条件进行筛选和更新。
- **清除筛选**:
    - 在侧边栏的显眼位置（例如，底部）提供一个“清除所有筛选”的按钮。
    - 点击后，所有已选的筛选条件将被重置，表格恢复显示全部内容。

### 2.2. 筛选器内容

侧边栏应至少包含以下几类筛选器：

- **卡片状态 (Card Status)**:
    - 以按钮组或标签组的形式提供。
    - 选项包括：`新卡片`, `学习中`, `待复习`, `已暂停` 等。
- **牌组 (Decks)**:
    - 以可折叠的**树状结构**或列表形式，展示所有的牌组。
    - 用户可以点击选择一个或多个牌组进行筛选。
- **标签 (Tags)**:
    - 同样以可折叠的**树状结构**或列表形式，展示所有用过的标签。
    - 支持多选，可以根据多个标签的组合进行筛选。

---
*文档创建完毕。*
