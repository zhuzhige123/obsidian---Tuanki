# 🚀 Tuanki 开源项目 - 快速启动指南

## ✅ 已完成的工作

### 1. 项目创建成功 ✅

- **位置**: `D:\桌面\tuanki-opensource`
- **文件数量**: 781 个文件
- **代码行数**: 283,568 行
- **Git 提交**: 已完成初始提交（commit: 438525d）

### 2. 安全检查通过 ✅

- ✅ 无私钥泄露
- ✅ 无敏感激活码文件
- ✅ .gitignore 配置完善
- ✅ Git 历史干净（仅一个初始提交）

### 3. 文档完整 ✅

- ✅ README.md 已更新（包含激活码说明）
- ✅ CONTRIBUTING.md 已创建
- ✅ OPENSOURCE_RELEASE_REPORT.md 已创建
- ✅ 所有技术文档齐全

---

## 🎯 立即执行（4个必须步骤）

### 步骤 1: 验证构建 ⚠️ 必须

```powershell
cd "D:\桌面\tuanki-opensource"

# 安装依赖
npm install

# 构建项目
npm run build
```

**预期结果**: 构建成功，无错误

### 步骤 2: 创建 GitHub 仓库 ⚠️ 必须

1. 打开 https://github.com/new
2. 填写信息：
   - **仓库名称**: `tuanki` 或 `tuanki-obsidian-plugin`
   - **描述**: "智能记忆卡片插件 - 基于 FSRS 算法的 Obsidian 间隔重复学习系统"
   - **公开/私有**: 选择"Public"（公开）
   - **初始化选项**: 全部不勾选（不要添加 README、.gitignore、LICENSE）

3. 点击"Create repository"

### 步骤 3: 推送到 GitHub ⚠️ 必须

```powershell
cd "D:\桌面\tuanki-opensource"

# 添加远程仓库（替换 YOUR_USERNAME 为你的 GitHub 用户名）
git remote add origin https://github.com/YOUR_USERNAME/tuanki.git

# 推送代码
git push -u origin main

# 如果分支名是 master，需要先重命名
# git branch -M main
# git push -u origin main
```

**预期结果**: 代码成功推送到 GitHub

### 步骤 4: 验证老激活码兼容性 ⚠️ 关键

```powershell
# 回到原项目
cd "D:\桌面\obsidian tuanki (3) (2) (5) (9) (1) (5)\10-Project-Tuanki\anki-obsidian-plugin"

# 在 Obsidian 中：
# 1. 关闭旧插件
# 2. 用开源版本替换插件文件
# 3. 测试一个之前购买的激活码
# 4. 确认能够正常激活
```

**预期结果**: 老激活码完全兼容

---

## 📋 后续操作（可选但推荐）

### 配置 GitHub 仓库

1. **添加 Topics**（标签）
   - 进入仓库页面
   - 点击"Add topics"
   - 添加: `obsidian-plugin`, `spaced-repetition`, `fsrs`, `learning`, `flashcards`

2. **设置 About**
   - 描述: "智能记忆卡片插件 - 基于 FSRS 算法的 Obsidian 间隔重复学习系统"
   - 网站: 你的发卡平台链接（可选）

3. **创建 Release**
   - 点击"Create a new release"
   - Tag: `v0.5.0`
   - Title: "Tuanki v0.5.0 - 首次公开发布"
   - 描述: 复制自 CHANGELOG.md

### 提交 Obsidian 官方市场

1. Fork [obsidian-releases](https://github.com/obsidianmd/obsidian-releases)
2. 在 `community-plugins.json` 添加你的插件信息：

```json
{
  "id": "tuanki",
  "name": "Tuanki",
  "author": "你的用户名",
  "description": "智能记忆卡片插件 - 基于 FSRS 算法的间隔重复学习系统",
  "repo": "你的用户名/tuanki"
}
```

3. 创建 Pull Request
4. 等待官方审核（通常 1-2 周）

### 更新 README 中的购买链接

当前占位符需要替换：

```markdown
[立即购买激活码](您的发卡平台链接)
```

替换为实际的发卡平台链接。

---

## 📄 重要文档

### 必读文档

1. **OPENSOURCE_RELEASE_REPORT.md** - 完整的发布报告和详细说明
2. **CONTRIBUTING.md** - 贡献指南和贡献者福利
3. **docs/OPEN_SOURCE_CHECKLIST.md** - 开源检查清单

### 技术文档

1. **docs/ACTIVATION_SYSTEM.md** - 激活系统技术文档
2. **docs/PRIVATE_KEY_SETUP.md** - 私钥管理指南
3. **docs/GIT_CLEANUP.md** - Git 历史清理指南

---

## ⚠️ 重要提醒

### 🔴 绝对不能做的事

1. ❌ **不要提交私钥文件**
   - `private-key.pem`
   - 任何包含 "BEGIN PRIVATE KEY" 的实际文件

2. ❌ **不要提交激活码文件**
   - `generated-*.json`
   - `codes-*.txt`
   - 任何已生成的激活码

3. ❌ **不要提交环境变量文件**
   - `.env`
   - `.env.local`

### 🟢 可以安全公开的

1. ✅ **公钥** - 已包含在 `src/utils/licenseManager.ts`
2. ✅ **验证逻辑** - 客户端验证代码完全公开
3. ✅ **所有文档** - 技术文档和用户指南
4. ✅ **安全脚本** - `generate-activation-codes-secure.cjs`（不包含私钥）

---

## 🆘 常见问题

### Q1: 构建失败怎么办？

```powershell
# 清理并重新安装
rm -r node_modules
rm package-lock.json
npm install
npm run build
```

### Q2: 推送到 GitHub 失败？

```powershell
# 检查远程仓库配置
git remote -v

# 如果配置错误，删除并重新添加
git remote remove origin
git remote add origin https://github.com/YOUR_USERNAME/tuanki.git
```

### Q3: 老激活码不兼容？

这不应该发生，因为公钥没有改变。如果出现问题：
1. 检查 `src/utils/licenseManager.ts` 中的 PUBLIC_KEY 是否正确
2. 检查 PRODUCT_ID 和 CURRENT_VERSION 是否匹配

### Q4: 如何处理临时文件？

以下临时文件可以删除（阅读后）：
- `CLEANUP_NOTES.txt`
- `README_ACTIVATION_SECTION.txt`
- `快速启动指南.md`（本文件）

---

## 📞 获取帮助

- **GitHub Issues**: 报告 Bug 和提建议
- **GitHub Discussions**: 社区讨论
- **Email**: tutaoyuan8@outlook.com

---

## 🎊 恭喜！

**Tuanki 开源项目已经准备就绪！**

执行上述 4 个必须步骤后，你的插件将：
- ✅ 在 GitHub 上公开
- ✅ 准备好提交 Obsidian 官方市场
- ✅ 开始接受社区贡献
- ✅ 持续发展和改进

**祝你的开源项目取得成功！** 🚀

---

*生成时间: 2025-10-26*
*版本: v0.5.0*

